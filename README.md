# Komoot Challenge

## Assignment

Develop a react app that enables you to plan your cross country run and download it as GPX file.

Cross Country runners are not bound to the streets.
Your users can plan their favorite route across fields and
hills by just placing markers as waypoints on the map.
For detailed planning the same waypoints show up as a list where
users can delete and rearrange them until the route is perfect and ready to download.
The user interface should be based on the design to the left.

An excellent ReactJS Developer should manage to do this challenge in a few hours.
Impress us with your coding skills by not using 3rd party react components and plugins.
At least the map and the list should be separated react components.

Send us the sources as zip file, a link to the hosted solution and
what you have learned while developing.

## Building and running

```
yarn install
yarn start
```

## Browser support

Tested in a few recent browsers:

- Firefox 81
- Safari 14 - drag-drop needs improvement :(
- Chrome 86 - drag-drop needs improvement :(

No effort has been made to ensure any backwards-compatibility with older versions.

## Libraries and tools used

- [create-react-app][] for initial setup.
- Icon font generated by [IcoFont][].
- Using [Leaflet][] library for the map.
- Using the basic xml library for quick XML generation.
- Generated GPX file validated with [online XML validator][].

## Libraries not used

As it was recommended to not use 3rd party react components and plugins:

- [styled-components][] would normally be my goto choice for styling React apps.
  Here used just plain CSS with BEM-like naming scheme for classes: `Component__subComponent--state`.
- [lodash][], [ramda][] or some other utility lib.
  I needed some utilities for immutable operations with arrays,
  so implemented them on my own. Though these libs aren't really react-related.
- [classnames][] lib for easy creation of `className` prop values.
  Did a simplified implementation of this utility function.
- A state management library like [redux][].
  For such a small project, React component state filled all my needs.

## Shortcuts taken / Technical debt accumulated

- All values in CSS are hard-coded.
  Normally I would at least declare all colors as named constants.
- Hard-coded my personal Mapbox access token.
  Not the securest approach. But I have controls to turn that token off if needed.
- Hard-coded HTML element `id` in Map component.
  That will limit creating multiple instances of this component,
  which won't really matter in this simple app.
- Using the `Leaflet.LatLng` type throughout the code (even in non-map-related components).
  It would be better to avoid such tight coupling with the Leaflet library.

## What did I learn

- Had not used the browser Drag'n'Drop API before. It worked pretty well,
  but I felt I wrote too much code for this simple drag-n-drop UI.
  There likely are libraries out there to simplify away a lot of it.

[create-react-app]: https://create-react-app.dev/
[styled-components]: https://styled-components.com/
[ramda]: https://ramdajs.com/
[lodash]: https://lodash.com/
[icofont]: https://www.icofont.com/
[online xml validator]: https://www.truugo.com/xml_validator/
[classnames]: https://www.npmjs.com/package/classnames
[leaflet]: https://leafletjs.com/
[redux]: https://redux.js.org/
